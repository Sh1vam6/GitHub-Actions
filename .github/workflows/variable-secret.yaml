name: variable and secrets

on: push
env:
  CONTAINER_REGISTRY: docker.io
  IMAGE_NAME: my-image
  DOCKER_USERNAME: shivamgautam

jobs:
    build:
      runs-on: ubuntu-latest
      steps:
      - name: docker build
        run: echo docker build -t ${{ env.CONTAINER_REGISTRY }}/$DOCKER_USERNAME/$IMAGE_NAME

      - name: docker login
        env:
          DOCKER_PPASSWORD: shivamgautam
        run: echo docker login -u $DOCKER_USERNAME -p $DOCKER_PASSWORD

    deploy:
      runs-on: ubuntu-latest
      steps:
      - name: docker run
        run: echo docker run ${{ env.CONTAINER_REGISTRY }}/$DOCKER_USERNAME/$IMAGE_NAME